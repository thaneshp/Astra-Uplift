<!DOCTYPE html>
<html>

<head>
	<title>User Registration Page | MySaaSApp</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		body {
			font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
			background-color: #f8f8f8;
			margin: 0;
			padding: 0;
		}
		.container {
			max-width: 800px;
			margin: 0 auto;
			padding: 20px;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			height: 100vh;
		}
		h1 {
			text-align: center;
			margin-top: 0;
			margin-bottom: 30px;
			font-size: 36px;
			color: #444;
		}
		form {
			background-color: #fff;
			padding: 30px;
			border-radius: 5px;
			box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
			width: 100%;
			max-width: 600px;
		}
		label {
			display: block;
			margin-bottom: 10px;
			font-weight: bold;
			color: #444;
		}
		input[type="text"],
		input[type="password"] {
			display: block;
			width: 100%;
			padding: 10px;
			margin-bottom: 20px;
			border: none;
			border-radius: 5px;
			box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
			font-size: 16px;
			color: #444;
			background-color: #f8f8f8;
			transition: all 0.2s ease-in-out;
		}
		input[type="text"]:hover,
		input[type="password"]:hover {
			background-color: #e8e8e8;
		}
		input[type="text"]:focus,
		input[type="password"]:focus {
			outline: none;
			background-color: #fff;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
		}
		button {
			background-color: #3f6ad8;
			color: #fff;
			border: none;
			border-radius: 5px;
			padding: 10px;
			cursor: pointer;
			font-size: 16px;
			transition: background-color 0.2s ease-in-out;
			width: 100%;
			margin-top: 20px;
		}
		button:hover {
			background-color: #2c4b8d;
		}
		.error {
			color: red;
			font-size: 12px;
			margin-top: 5px;
		}
		@media only screen and (max-width: 600px) {
			h1 {
				font-size: 24px;
			}

			form {
				padding: 20px;
			}
		}
	</style>
</head>
<script>

	function loadDoc() {
		// Variables used to store user input
		var name = document.getElementById("name").value;
		var email = document.getElementById("email").value;
		var password = document.getElementById("password").value;

		// Variables used as part of form validation
		var nameError = document.getElementById("nameError");
		var emailError = document.getElementById("emailError");
		var passwordError = document.getElementById("passwordError");
		var valid = true;

		// Check if name field is empty
		if (name.trim() === '') {
			nameError.innerText = 'Name is required';
			valid = false;
		} else {
			nameError.innerText = '';
		}
    
		// Check if email is empty and/or valid
		var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
		if (email.trim() === '') {
			emailError.innerText = 'Email is required';
			valid = false;
		} else if (!emailPattern.test(email)) {
			emailError.innerText = 'Enter a valid email address.';
			valid = false;
		} else {
			emailError.innerText = '';
		}
    
		// Check if password field is empty
		if (password.trim() === '') {
			passwordError.innerText = 'Password is required';
			valid = false;
		} else {
			passwordError.innerText = '';
		}

		if (valid) {
			body_data = { "email": email, "password": password };
			json_body = JSON.stringify(body_data);

			var xhttp = new XMLHttpRequest();
			xhttp.open("POST", "/register/", true);
			xhttp.setRequestHeader("Content-type", "application/json");
			xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					console.log("Registration successful!");
					window.location.href = "/";
				} else {
					console.log("Registration failed!");
				}
			};
			xhttp.send(json_body);
		}
	}
</script>

<body>
	<div class="container">
		<h1>Create an Account</h1>
		<form method="POST" action="#">
			<label for="name">Full Name</label>
			<input type="text" id="name" name="name" placeholder="Enter your full name">
			<span id="nameError" class="error"></span>

			<label for="email">Email</label>
			<input type="text" id="email" name="email" placeholder="Enter your email address">
			<span id="emailError" class="error"></span>

			<label for="password">Password</label>
			<input type="password" id="password" name="password" placeholder="Enter your password">
			<span id="passwordError" class="error"></span>

			<button type="button" value="Sign Up" onclick=loadDoc();>Sign Up</button>
		</form>
	</div>
</body>